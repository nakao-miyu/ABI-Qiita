---
title: Spotify APIをPostmanで叩いてみた！トークン取得から曲検索まで
tags:
  - API
  - Postman
  - 新卒エンジニア
  - 新卒
  - Spotify
private: false
updated_at: '2025-10-02T18:35:13+09:00'
id: a28136d44b6d82b6da0f
organization_url_name: null
slide: false
ignorePublish: false
---
### はじめに
最近は、業務でPostomanを使用し、APIをローカルで叩く機会が増え
実際に自分で叩いてみてどのようなことができるのか記事にしようと思いました。

いろいろと調べていると、SpotifyのWeb APIが公開されていることを知り、
「これ面白そう:headphones:」と思い実際にPostomanで叩いてみることにしました！

普段、画面の検索バーからアーティストや曲を探していますが、
APIリクエストで探す体験の備忘録です。

***
### :dizzy: Spotify APIとは
Spotifyの公式がWeb APIを提供しており
外部開発者がエンドポイントを叩くことで以下のような情報を取得できます。
- アーティスト・アルバム・トラック（曲）検索
- 楽曲の人気度・アルバム情報
- 各種プレイリストやユーザアカウント情報


![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/4144618/685963f4-5fc1-4dd1-be75-a966bcd8271e.png)

https://developer.spotify.com/

この中でも、最初は自分の好きなアーティストの曲を
みなさんへ紹介したい！！という気持ちを込めて検索をやってみます:fist_tone1:

***
### :gear: 事前準備
① Spotify開発者アカウントを作成
上記サイトにアクセスし、個人のアカウントでログインする

② アプリを作成
ダッシュボードにて新しいアプリを作成する
その後、「Client ID」と「Client Secret」を発行、取得

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/4144618/ae02fc5c-d615-4f69-9ef6-0944c28dcdae.png)

***
### :key: アクセストークンを取得する
Spotify APIを使うには、OAuth 2.0のClient Credentials Flowで
トークンを取得する必要があるため、Postmanで作成します。

①リクエストを新しく作成する
メソッド : POST
URL： https://accounts.spotify.com/api/token

Headers
| key | Value | 
|:-----------:|:------------:|
|  Content-Type      |application/x-www-form-urlencoded     |
| Authorization    | Basic {Base64エンコードしたClientID:ClientSecret}     |


Body
| key | Value | 
|:-----------:|:------------:|
| grant_type |  client_credentials |

② 送信するとトークンが取得できる

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/4144618/c0eb619b-e7cc-4974-8b9a-af83445a7d0f.png)

***
:mag: 実際に曲を探してみる

メソッド:　GET
URL： https://api.spotify.com/v1/search?q=track:Fight%20Music%20artist:SEKAI%20NO%20OWARI&type=track



| key | Value | explanation　|
|:-----------:|:-----------:|:------------:|
|q   |track:Fight Music artist:SEKAI NO OWARI | 検索クエリ |
| type | track    | 検索タイプ |

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/4144618/785dc355-f831-44d3-9aa9-cb6510cb08be.png)

Headers
| key | Value | 
|:-----------:|:------------:|
| Authorization |  Bearer {取得したaccess_token}|

##### そうすると...
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/4144618/f3689a2b-2e66-4372-9436-8f97ef701a45.png)

レスポンスが返ってきました！:tada:
&nbsp;  
tracksのtotalで2が返ってきているので、この曲がSpotifyに2曲存在していることになります
（2つのアルバムに入っているため間違いないです！）
&nbsp;  
"artists" :{
"spotify": "https://open.spotify.com/artist/7HwzlRPa9Ad0I8rK0FPzzK"
}
&nbsp;
のリンクをクリックすると
&nbsp;
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/4144618/fb608abe-fd97-4940-aa50-a66b05d4b1e5.png)

アーティストのページが出てきました:clap_tone1::star:
&nbsp;
&nbsp;
&nbsp;
続いて、曲は取得できているのかというと...

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/4144618/7b32d787-71d5-42cc-9533-9ba1a319be48.png)
&nbsp;
 "external_urls": {
                    "spotify": "https://open.spotify.com/track/5YI2OiEQrf9NCXG7xu230c"
}

（:warning:リンクにとぶと自動で音声が流れてしまうので、注意です）
&nbsp;
&nbsp;
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/4144618/9880f47c-452d-40ae-848d-021630dcdee8.png)

出てきました:musical_note:

これで、普段画面から検索しているものが
APIを叩くことで検索でき、今回のゴール達成です！

***
### :earth_asia: まとめ

実際にAPIを叩いて
- 今回の検索クエリは「track:曲名 artist:アーティスト名」の形式で細かく指定できる
- Postmanを使うことで、簡単にAPIが叩ける（クエリに入れると自動でURLを直してくれるなど）
- トークンの有効期限が作業中に切れ、それに気づかずエラーと必死に戦ってしまったので、認証周りの知識をもっとつけていきたい
- スペルミスでAPIが通らず原因の特定に時間がかかったので、小さなミスを業務中もなくしていきたい

といったことを学び、感じました。

実務で得たことを自分の好きなものを絡めて、応用できたので
今後も色々なことに興味を持って取り組んでいきたいと思います！

おすすめの曲なので、ぜひ聴いてください～～:revolving_hearts:
